function t(){}function e(t,e){for(const r in e)t[r]=e[r];return t}function r(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(r)}function i(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(t,e,r,n){if(t){const o=u(t,e,r,n);return t[0](o)}}function u(t,r,n,o){return t[1]&&o?e(n.ctx.slice(),t[1](o(r))):n.ctx}function c(t,e,r,n,o,i,s){const a=function(t,e,r,n){if(t[2]&&n){const o=t[2](n(r));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],r=Math.max(e.dirty.length,o.length);for(let n=0;n<r;n+=1)t[n]=e.dirty[n]|o[n];return t}return e.dirty|o}return e.dirty}(e,n,o,i);if(a){const o=u(e,r,n,s);t.p(o,a)}}function f(t,e){t.appendChild(e)}function l(t,e,r){t.insertBefore(e,r||null)}function h(t){t.parentNode.removeChild(t)}function p(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function d(t){return document.createElement(t)}function y(t){return document.createTextNode(t)}function b(){return y(" ")}function v(){return y("")}function g(t,e,r){null==r?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function m(t){return Array.from(t.childNodes)}function w(t,e,r,n){for(let o=0;o<t.length;o+=1){const n=t[o];if(n.nodeName===e){let e=0;const i=[];for(;e<n.attributes.length;){const t=n.attributes[e++];r[t.name]||i.push(t.name)}for(let t=0;t<i.length;t++)n.removeAttribute(i[t]);return t.splice(o,1)[0]}}return n?function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}(e):d(e)}function _(t,e){for(let r=0;r<t.length;r+=1){const n=t[r];if(3===n.nodeType)return n.data=""+e,t.splice(r,1)[0]}return y(e)}function O(t){return _(t," ")}function E(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function j(t,e=document.body){return Array.from(e.querySelectorAll(t))}let x;function S(t){x=t}function P(){if(!x)throw new Error("Function called outside component initialization");return x}function T(t){P().$$.on_mount.push(t)}function I(t){P().$$.after_update.push(t)}function A(t,e){P().$$.context.set(t,e)}const q=[],C=[],R=[],D=[],M=Promise.resolve();let k=!1;function N(t){R.push(t)}let $=!1;const H=new Set;function U(){if(!$){$=!0;do{for(let t=0;t<q.length;t+=1){const e=q[t];S(e),L(e.$$)}for(S(null),q.length=0;C.length;)C.pop()();for(let t=0;t<R.length;t+=1){const e=R[t];H.has(e)||(H.add(e),e())}R.length=0}while(q.length);for(;D.length;)D.pop()();k=!1,$=!1,H.clear()}}function L(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(N)}}const z=new Set;let B;function F(){B={r:0,c:[],p:B}}function X(){B.r||o(B.c),B=B.p}function V(t,e){t&&t.i&&(z.delete(t),t.i(e))}function W(t,e,r,n){if(t&&t.o){if(z.has(t))return;z.add(t),B.c.push((()=>{z.delete(t),n&&(r&&t.d(1),n())})),t.o(e)}}function G(t,e){const r={},n={},o={$$scope:1};let i=t.length;for(;i--;){const s=t[i],a=e[i];if(a){for(const t in s)t in a||(n[t]=1);for(const t in a)o[t]||(r[t]=a[t],o[t]=1);t[i]=a}else for(const t in s)o[t]=1}for(const s in n)s in r||(r[s]=void 0);return r}function J(t){return"object"==typeof t&&null!==t?t:{}}function Y(t){t&&t.c()}function K(t,e){t&&t.l(e)}function Z(t,e,n,s){const{fragment:a,on_mount:u,on_destroy:c,after_update:f}=t.$$;a&&a.m(e,n),s||N((()=>{const e=u.map(r).filter(i);c?c.push(...e):o(e),t.$$.on_mount=[]})),f.forEach(N)}function Q(t,e){const r=t.$$;null!==r.fragment&&(o(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function tt(t,e){-1===t.$$.dirty[0]&&(q.push(t),k||(k=!0,M.then(U)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function et(e,r,i,s,a,u,c=[-1]){const f=x;S(e);const l=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:r.context||[]),callbacks:n(),dirty:c,skip_bound:!1};let p=!1;if(l.ctx=i?i(e,r.props||{},((t,r,...n)=>{const o=n.length?n[0]:r;return l.ctx&&a(l.ctx[t],l.ctx[t]=o)&&(!l.skip_bound&&l.bound[t]&&l.bound[t](o),p&&tt(e,t)),r})):[],l.update(),p=!0,o(l.before_update),l.fragment=!!s&&s(l.ctx),r.target){if(r.hydrate){const t=m(r.target);l.fragment&&l.fragment.l(t),t.forEach(h)}else l.fragment&&l.fragment.c();r.intro&&V(e.$$.fragment),Z(e,r.target,r.anchor,r.customElement),U()}S(f)}class rt{$destroy(){Q(this,1),this.$destroy=t}$on(t,e){const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(e),()=>{const t=r.indexOf(e);-1!==t&&r.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const nt=[];function ot(e,r=t){let n;const o=[];function i(t){if(s(e,t)&&(e=t,n)){const t=!nt.length;for(let r=0;r<o.length;r+=1){const t=o[r];t[1](),nt.push(t,e)}if(t){for(let t=0;t<nt.length;t+=2)nt[t][0](nt[t+1]);nt.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(s,a=t){const u=[s,a];return o.push(u),1===o.length&&(n=r(i)||t),s(e),()=>{const t=o.indexOf(u);-1!==t&&o.splice(t,1),0===o.length&&(n(),n=null)}}}}var it="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},st=Object.getOwnPropertySymbols,at=Object.prototype.hasOwnProperty,ut=Object.prototype.propertyIsEnumerable;
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/function ct(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var ft=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(o){return!1}}()?Object.assign:function(t,e){for(var r,n,o=ct(t),i=1;i<arguments.length;i++){for(var s in r=Object(arguments[i]))at.call(r,s)&&(o[s]=r[s]);if(st){n=st(r);for(var a=0;a<n.length;a++)ut.call(r,n[a])&&(o[n[a]]=r[n[a]])}}return o},lt={},ht={},pt={},dt={};Object.defineProperty(dt,"__esModule",{value:!0}),dt.isFunction=function(t){return"function"==typeof t};var yt={},bt={};Object.defineProperty(bt,"__esModule",{value:!0});var vt=!1;bt.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else vt&&console.log("RxJS: Back to a better error behavior. Thank you. <3");vt=t},get useDeprecatedSynchronousErrorHandling(){return vt}};var gt={};Object.defineProperty(gt,"__esModule",{value:!0}),gt.hostReportError=function(t){setTimeout((function(){throw t}),0)},Object.defineProperty(yt,"__esModule",{value:!0});var mt=bt,wt=gt;yt.empty={closed:!0,next:function(t){},error:function(t){if(mt.config.useDeprecatedSynchronousErrorHandling)throw t;wt.hostReportError(t)},complete:function(){}};var _t={},Ot={};Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length};var Et={};Object.defineProperty(Et,"__esModule",{value:!0}),Et.isObject=function(t){return null!==t&&"object"==typeof t};var jt={};Object.defineProperty(jt,"__esModule",{value:!0});var xt=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}();jt.UnsubscriptionError=xt,Object.defineProperty(_t,"__esModule",{value:!0});var St=Ot,Pt=Et,Tt=dt,It=jt,At=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,n=r._parentOrParents,o=r._ctorUnsubscribe,i=r._unsubscribe,s=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var a=0;a<n.length;++a){n[a].remove(this)}if(Tt.isFunction(i)){o&&(this._unsubscribe=void 0);try{i.call(this)}catch(f){e=f instanceof It.UnsubscriptionError?qt(f.errors):[f]}}if(St.isArray(s)){a=-1;for(var u=s.length;++a<u;){var c=s[a];if(Pt.isObject(c))try{c.unsubscribe()}catch(f){e=e||[],f instanceof It.UnsubscriptionError?e=e.concat(qt(f.errors)):e.push(f)}}}if(e)throw new It.UnsubscriptionError(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;(r=new t)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var o=r._parentOrParents;if(null===o)r._parentOrParents=this;else if(o instanceof t){if(o===this)return r;r._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return r;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[r]:i.push(r),r},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}},t.EMPTY=((e=new t).closed=!0,e),t}();function qt(t){return t.reduce((function(t,e){return t.concat(e instanceof It.UnsubscriptionError?e.errors:e)}),[])}_t.Subscription=At;var Ct,Rt={};Ct=Rt,Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),Ct.$$rxSubscriber=Ct.rxSubscriber;var Dt,Mt=it&&it.__extends||(Dt=function(t,e){return(Dt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}Dt(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(pt,"__esModule",{value:!0});var kt=dt,Nt=yt,$t=Rt,Ht=bt,Ut=gt,Lt=function(t){function e(r,n,o){var i=t.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=Nt.empty;break;case 1:if(!r){i.destination=Nt.empty;break}if("object"==typeof r){r instanceof e?(i.syncErrorThrowable=r.syncErrorThrowable,i.destination=r,r.add(i)):(i.syncErrorThrowable=!0,i.destination=new zt(i,r));break}default:i.syncErrorThrowable=!0,i.destination=new zt(i,r,n,o)}return i}return Mt(e,t),e.prototype[$t.rxSubscriber]=function(){return this},e.create=function(t,r,n){var o=new e(t,r,n);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(_t.Subscription);pt.Subscriber=Lt;var zt=function(t){function e(e,r,n,o){var i,s=t.call(this)||this;s._parentSubscriber=e;var a=s;return kt.isFunction(r)?i=r:r&&(i=r.next,n=r.error,o=r.complete,r!==Nt.empty&&(a=Object.create(r),kt.isFunction(a.unsubscribe)&&s.add(a.unsubscribe.bind(a)),a.unsubscribe=s.unsubscribe.bind(s))),s._context=a,s._next=i,s._error=n,s._complete=o,s}return Mt(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;Ht.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,r=Ht.config.useDeprecatedSynchronousErrorHandling;if(this._error)r&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)r?(e.syncErrorValue=t,e.syncErrorThrown=!0):Ut.hostReportError(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;Ut.hostReportError(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};Ht.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(r){if(this.unsubscribe(),Ht.config.useDeprecatedSynchronousErrorHandling)throw r;Ut.hostReportError(r)}},e.prototype.__tryOrSetError=function(t,e,r){if(!Ht.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,r)}catch(n){return Ht.config.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=n,t.syncErrorThrown=!0,!0):(Ut.hostReportError(n),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(Lt);pt.SafeSubscriber=zt;var Bt=it&&it.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(ht,"__esModule",{value:!0});var Ft=pt;ht.filter=function(t,e){return function(r){return r.lift(new Xt(t,e))}};var Xt=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new Vt(t,this.predicate,this.thisArg))},t}(),Vt=function(t){function e(e,r,n){var o=t.call(this,e)||this;return o.predicate=r,o.thisArg=n,o.count=0,o}return Bt(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}e&&this.destination.next(t)},e}(Ft.Subscriber);lt.filter=ht.filter;var Wt={},Gt={},Jt=it&&it.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Gt,"__esModule",{value:!0});var Yt=pt;Gt.map=function(t,e){return function(r){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new Kt(t,e))}};var Kt=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new Zt(t,this.project,this.thisArg))},t}();Gt.MapOperator=Kt;var Zt=function(t){function e(e,r,n){var o=t.call(this,e)||this;return o.project=r,o.count=0,o.thisArg=n||o,o}return Jt(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(e)},e}(Yt.Subscriber);Wt.map=Gt.map;var Qt=function(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)},te=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable;function re(t){if(null==t)throw new TypeError("Sources cannot be null or undefined");return Object(t)}function ne(t,e,r){var n=e[r];if(null!=n){if(te.call(t,r)&&(void 0===t[r]||null===t[r]))throw new TypeError("Cannot convert undefined or null to object ("+r+")");te.call(t,r)&&Qt(n)?t[r]=oe(Object(t[r]),e[r]):t[r]=n}}function oe(t,e){if(t===e)return t;for(var r in e=Object(e))te.call(e,r)&&ne(t,e,r);if(Object.getOwnPropertySymbols)for(var n=Object.getOwnPropertySymbols(e),o=0;o<n.length;o++)ee.call(e,n[o])&&ne(t,e,n[o]);return t}var ie=function(t){if("string"==typeof t||Array.isArray(t))return{id:t};if(t&&t.query)return{query:t.query};var e=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join("\n");throw new Error("Unknown selection - must be one of:\n\n".concat(e))},se={};function ae(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}!function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=["image","file"],n=["before","after","replace"];t.dataset=function(t){if(!/^(~[a-z0-9]{1}[-\w]{0,25}|[a-z0-9]{1}[-\w]{0,19})$/.test(t))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 20 characters")},t.projectId=function(t){if(!/^[-a-z0-9]+$/i.test(t))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},t.validateAssetType=function(t){if(-1===r.indexOf(t))throw new Error("Invalid asset type: ".concat(t,". Must be one of ").concat(r.join(", ")))},t.validateObject=function(t,r){if(null===r||"object"!==e(r)||Array.isArray(r))throw new Error("".concat(t,"() takes an object of properties"))},t.requireDocumentId=function(e,r){if(!r._id)throw new Error("".concat(e,'() requires that the document contains an ID ("_id" property)'));t.validateDocumentId(e,r._id)},t.validateDocumentId=function(t,e){if("string"!=typeof e||!/^[a-z0-9_.-]+$/i.test(e))throw new Error("".concat(t,'(): "').concat(e,'" is not a valid document ID'))},t.validateInsert=function(t,e,r){var o="insert(at, selector, items)";if(-1===n.indexOf(t)){var i=n.map((function(t){return'"'.concat(t,'"')})).join(", ");throw new Error("".concat(o,' takes an "at"-argument which is one of: ').concat(i))}if("string"!=typeof e)throw new Error("".concat(o,' takes a "selector"-argument which must be a string'));if(!Array.isArray(r))throw new Error("".concat(o,' takes an "items"-argument which must be an array'))},t.hasDataset=function(t){if(!t.gradientMode&&!t.dataset)throw new Error("`dataset` must be provided to perform queries");return t.dataset||""},t.requestTag=function(t){if("string"!=typeof t||!/^[a-z0-9._-]{1,75}$/i.test(t))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return t}}(se);var ue=function(t){t=re(t);for(var e=1;e<arguments.length;e++)oe(t,arguments[e]);return t},ce=ft,fe=ie,le=se.validateObject,he=se.validateInsert;function pe(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.selection=t,this.operations=ce({},e),this.client=r}ce(pe.prototype,{clone:function(){return new pe(this.selection,ce({},this.operations),this.client)},merge:function(t){le("merge",t);var e=(new Error).stack.toString().split("\n").filter((function(t){return t.trim()})).slice(2);return console.warn('The "merge" patch has been deprecated and will be removed in the future\n'.concat(e.join("\n"))),this._assign("merge",ue(this.operations.merge||{},t))},set:function(t){return this._assign("set",t)},diffMatchPatch:function(t){return le("diffMatchPatch",t),this._assign("diffMatchPatch",t)},unset:function(t){if(!Array.isArray(t))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=ce({},this.operations,{unset:t}),this},setIfMissing:function(t){return this._assign("setIfMissing",t)},replace:function(t){return le("replace",t),this._set("set",{$:t})},inc:function(t){return this._assign("inc",t)},dec:function(t){return this._assign("dec",t)},insert:function(t,e,r){var n;return he(t,e,r),this._assign("insert",(ae(n={},t,e),ae(n,"items",r),n))},append:function(t,e){return this.insert("after","".concat(t,"[-1]"),e)},prepend:function(t,e){return this.insert("before","".concat(t,"[0]"),e)},splice:function(t,e,r,n){var o=e<0?e-1:e,i=void 0===r||-1===r?-1:Math.max(0,e+r),s=o<0&&i>=0?"":i,a="".concat(t,"[").concat(o,":").concat(s,"]");return this.insert("replace",a,n||[])},ifRevisionId:function(t){return this.operations.ifRevisionID=t,this},serialize:function(){return ce(fe(this.selection),this.operations)},toJSON:function(){return this.serialize()},commit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.client)throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");var e="string"==typeof this.selection,r=ce({returnFirst:e,returnDocuments:!0},t);return this.client.mutate({patch:this.serialize()},r)},reset:function(){return this.operations={},this},_set:function(t,e){return this._assign(t,e,!1)},_assign:function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return le(t,e),this.operations=ce({},this.operations,ae({},t,ce({},r&&this.operations[t]||{},e))),this}});var de=pe;function ye(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var be=ft,ve=se,ge=de,me={returnDocuments:!1};function we(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;this.trxId=r,this.operations=t,this.client=e}be(we.prototype,{clone:function(){return new we(this.operations.slice(0),this.client,this.trxId)},create:function(t){return ve.validateObject("create",t),this._add({create:t})},createIfNotExists:function(t){var e="createIfNotExists";return ve.validateObject(e,t),ve.requireDocumentId(e,t),this._add(ye({},e,t))},createOrReplace:function(t){var e="createOrReplace";return ve.validateObject(e,t),ve.requireDocumentId(e,t),this._add(ye({},e,t))},delete:function(t){return ve.validateDocumentId("delete",t),this._add({delete:{id:t}})},patch:function(t,e){var r="function"==typeof e;if(t instanceof ge)return this._add({patch:t.serialize()});if(r){var n=e(new ge(t,{},this.client));if(!(n instanceof ge))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:n.serialize()})}return this._add({patch:be({id:t},e)})},transactionId:function(t){return t?(this.trxId=t,this):this.trxId},serialize:function(){return this.operations.slice()},toJSON:function(){return this.serialize()},commit:function(t){if(!this.client)throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return this.client.mutate(this.serialize(),be({transactionId:this.trxId},me,t||{}))},reset:function(){return this.operations=[],this},_add:function(t){return this.operations.push(t),this}});var _e=we;function Oe(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}var Ee=encodeURIComponent,je=function(t){var e=t.query,r=t.params,n=void 0===r?{}:r,o=t.options,i=void 0===o?{}:o,s=i.tag,a=Oe(i,["tag"]),u="query=".concat(Ee(e)),c=s?"?tag=".concat(Ee(s),"&").concat(u):"?".concat(u),f=Object.keys(n).reduce((function(t,e){return"".concat(t,"&").concat(Ee("$".concat(e)),"=").concat(Ee(JSON.stringify(n[e])))}),c);return Object.keys(a).reduce((function(t,e){return i[e]?"".concat(t,"&").concat(Ee(e),"=").concat(Ee(i[e])):t}),f)},xe={},Se={};Object.defineProperty(Se,"__esModule",{value:!0});var Pe=pt;Se.canReportError=function(t){for(;t;){var e=t,r=e.closed,n=e.destination,o=e.isStopped;if(r||o)return!1;t=n&&n instanceof Pe.Subscriber?n:null}return!0};var Te={};Object.defineProperty(Te,"__esModule",{value:!0});var Ie=pt,Ae=Rt,qe=yt;Te.toSubscriber=function(t,e,r){if(t){if(t instanceof Ie.Subscriber)return t;if(t[Ae.rxSubscriber])return t[Ae.rxSubscriber]()}return t||e||r?new Ie.Subscriber(t,e,r):new Ie.Subscriber(qe.empty)};var Ce={};Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.observable="function"==typeof Symbol&&Symbol.observable||"@@observable";var Re={},De={};Object.defineProperty(De,"__esModule",{value:!0}),De.identity=function(t){return t},Object.defineProperty(Re,"__esModule",{value:!0});var Me=De;function ke(t){return 0===t.length?Me.identity:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}Re.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ke(t)},Re.pipeFromArray=ke,Object.defineProperty(xe,"__esModule",{value:!0});var Ne=Se,$e=Te,He=Ce,Ue=Re,Le=bt,ze=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n=this.operator,o=$e.toSubscriber(t,e,r);if(n?o.add(n.call(o,this.source)):o.add(this.source||Le.config.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),Le.config.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){Le.config.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),Ne.canReportError(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var r=this;return new(e=Be(e))((function(e,n){var o;o=r.subscribe((function(e){try{t(e)}catch(r){n(r),o&&o.unsubscribe()}}),n,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[He.observable]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:Ue.pipeFromArray(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=Be(t))((function(t,r){var n;e.subscribe((function(t){return n=t}),(function(t){return r(t)}),(function(){return t(n)}))}))},t.create=function(e){return new t(e)},t}();function Be(t){if(t||(t=Le.config.Promise||Promise),!t)throw new Error("no Promise impl found");return t}xe.Observable=ze;var Fe={},Xe={},Ve={},We=it&&it.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Ve,"__esModule",{value:!0});var Ge=pt;Ve.scan=function(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(n){return n.lift(new Je(t,e,r))}};var Je=function(){function t(t,e,r){void 0===r&&(r=!1),this.accumulator=t,this.seed=e,this.hasSeed=r}return t.prototype.call=function(t,e){return e.subscribe(new Ye(t,this.accumulator,this.seed,this.hasSeed))},t}(),Ye=function(t){function e(e,r,n,o){var i=t.call(this,e)||this;return i.accumulator=r,i._seed=n,i.hasSeed=o,i.index=0,i}return We(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.accumulator(this.seed,t,r)}catch(n){this.destination.error(n)}this.seed=e,this.destination.next(e)},e}(Ge.Subscriber),Ke={},Ze={};Object.defineProperty(Ze,"__esModule",{value:!0});var Qe=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();Ze.ArgumentOutOfRangeError=Qe;var tr={};!function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=xe;t.EMPTY=new e.Observable((function(t){return t.complete()})),t.empty=function(r){return r?function(t){return new e.Observable((function(e){return t.schedule((function(){return e.complete()}))}))}(r):t.EMPTY}}(tr);var er=it&&it.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Ke,"__esModule",{value:!0});var rr=pt,nr=Ze,or=tr;Ke.takeLast=function(t){return function(e){return 0===t?or.empty():e.lift(new ir(t))}};var ir=function(){function t(t){if(this.total=t,this.total<0)throw new nr.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e.subscribe(new sr(t,this.total))},t}(),sr=function(t){function e(e,r){var n=t.call(this,e)||this;return n.total=r,n.ring=new Array,n.count=0,n}return er(e,t),e.prototype._next=function(t){var e=this.ring,r=this.total,n=this.count++;e.length<r?e.push(t):e[n%r]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var r=this.count>=this.total?this.total:this.count,n=this.ring,o=0;o<r;o++){var i=e++%r;t.next(n[i])}t.complete()},e}(rr.Subscriber),ar={},ur=it&&it.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(ar,"__esModule",{value:!0});var cr=pt;ar.defaultIfEmpty=function(t){return void 0===t&&(t=null),function(e){return e.lift(new fr(t))}};var fr=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new lr(t,this.defaultValue))},t}(),lr=function(t){function e(e,r){var n=t.call(this,e)||this;return n.defaultValue=r,n.isEmpty=!0,n}return ur(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(cr.Subscriber);Object.defineProperty(Xe,"__esModule",{value:!0});var hr=Ve,pr=Ke,dr=ar,yr=Re;Xe.reduce=function(t,e){return arguments.length>=2?function(r){return yr.pipe(hr.scan(t,e),pr.takeLast(1),dr.defaultIfEmpty(e))(r)}:function(e){return yr.pipe(hr.scan((function(e,r,n){return t(e,r,n+1)})),pr.takeLast(1))(e)}},Fe.reduce=Xe.reduce;var br=xe.Observable,vr=ft,gr=Wt.map,mr=lt.filter,wr=Fe.reduce;function _r(){br.apply(this,arguments)}function Or(t,e){var r=!1;return function(){return r||(r=!0,console.warn(new Error("Calling observable.".concat(t,"(...) is deprecated. Please use observable.pipe(").concat(t,"(...)) instead")))),this.pipe(e.apply(this,arguments))}}_r.prototype=Object.create(vr(Object.create(null),br.prototype)),Object.defineProperty(_r.prototype,"constructor",{value:_r,enumerable:!1,writable:!0,configurable:!0}),_r.prototype.lift=function(t){var e=new _r;return e.source=this,e.operator=t,e},_r.prototype.map=Or("map",gr),_r.prototype.filter=Or("filter",mr),_r.prototype.reduce=Or("filter",wr);var Er,jr=_r,xr={exports:{}};Er=xr,function(t,e){if(Er.exports)Er.exports=e();else{if(it.EventSource&&!it._eventSourceImportPrefix)return;t[(t._eventSourceImportPrefix||"")+"EventSource"]=e()}}("undefined"==typeof self?it:self,(function(){var t=function(t,e){if(!t||"string"!=typeof t)throw new SyntaxError("Not enough arguments");this.URL=t,this.setOptions(e);var r=this;setTimeout((function(){r.poll()}),0)};if(t.prototype={CONNECTING:0,OPEN:1,CLOSED:2,defaultOptions:{loggingEnabled:!1,loggingPrefix:"eventsource",interval:500,bufferSizeLimit:262144,silentTimeout:3e5,getArgs:{evs_buffer_size_limit:262144},xhrHeaders:{Accept:"text/event-stream","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"}},setOptions:function(t){var e,r=this.defaultOptions;for(e in r)r.hasOwnProperty(e)&&(this[e]=r[e]);for(e in t)e in r&&t.hasOwnProperty(e)&&(this[e]=t[e]);this.getArgs&&this.bufferSizeLimit&&(this.getArgs.evs_buffer_size_limit=this.bufferSizeLimit),"undefined"!=typeof console&&void 0!==console.log||(this.loggingEnabled=!1)},log:function(t){this.loggingEnabled&&console.log("["+this.loggingPrefix+"]:"+t)},poll:function(){try{if(this.readyState==this.CLOSED)return;this.cleanup(),this.readyState=this.CONNECTING,this.cursor=0,this.cache="",this._xhr=new this.XHR(this),this.resetNoActivityTimer()}catch(t){this.log("There were errors inside the pool try-catch"),this.dispatchEvent("error",{type:"error",data:t.message})}},pollAgain:function(t){var e=this;e.readyState=e.CONNECTING,e.dispatchEvent("error",{type:"error",data:"Reconnecting "}),this._pollTimer=setTimeout((function(){e.poll()}),t||0)},cleanup:function(){this.log("evs cleaning up"),this._pollTimer&&(clearInterval(this._pollTimer),this._pollTimer=null),this._noActivityTimer&&(clearInterval(this._noActivityTimer),this._noActivityTimer=null),this._xhr&&(this._xhr.abort(),this._xhr=null)},resetNoActivityTimer:function(){if(this.silentTimeout){this._noActivityTimer&&clearInterval(this._noActivityTimer);var t=this;this._noActivityTimer=setTimeout((function(){t.log("Timeout! silentTImeout:"+t.silentTimeout),t.pollAgain()}),this.silentTimeout)}},close:function(){this.readyState=this.CLOSED,this.log("Closing connection. readyState: "+this.readyState),this.cleanup()},_onxhrdata:function(){var t=this._xhr;if(t.isReady()&&!t.hasError()){this.resetNoActivityTimer(),this.readyState==this.CONNECTING&&(this.readyState=this.OPEN,this.dispatchEvent("open",{type:"open"}));var e=t.getBuffer();e.length>this.bufferSizeLimit&&(this.log("buffer.length > this.bufferSizeLimit"),this.pollAgain()),0==this.cursor&&e.length>0&&"\ufeff"==e.substring(0,1)&&(this.cursor=1);var r=this.lastMessageIndex(e);if(r[0]>=this.cursor){var n=r[1],o=e.substring(this.cursor,n);this.parseStream(o),this.cursor=n}t.isDone()&&(this.log("request.isDone(). reopening the connection"),this.pollAgain(this.interval))}else this.readyState!==this.CLOSED&&(this.log("this.readyState !== this.CLOSED"),this.pollAgain(this.interval))},parseStream:function(t){var e,n,o,i,s,a,u=(t=this.cache+this.normalizeToLF(t)).split("\n\n");for(e=0;e<u.length-1;e++){o="message",i=[];var c=u[e].split("\n");for(n=0;n<c.length;n++)0==(s=this.trimWhiteSpace(c[n])).indexOf("event")?o=s.replace(/event:?\s*/,""):0==s.indexOf("retry")?(a=parseInt(s.replace(/retry:?\s*/,""),10),isNaN(a)||(this.interval=a)):0==s.indexOf("data")?i.push(s.replace(/data:?\s*/,"")):0==s.indexOf("id:")?this.lastEventId=s.replace(/id:?\s*/,""):0==s.indexOf("id")&&(this.lastEventId=null);if(i.length&&this.readyState!=this.CLOSED){var f=new r(o,i.join("\n"),"undefined"!=typeof window&&void 0!==window.location?window.location.origin:null,this.lastEventId);this.dispatchEvent(o,f)}}this.cache=u[u.length-1]},dispatchEvent:function(t,e){var r=this["_"+t+"Handlers"];if(r)for(var n=0;n<r.length;n++)r[n].call(this,e);this["on"+t]&&this["on"+t].call(this,e)},addEventListener:function(t,e){this["_"+t+"Handlers"]||(this["_"+t+"Handlers"]=[]),this["_"+t+"Handlers"].push(e)},removeEventListener:function(t,e){var r=this["_"+t+"Handlers"];if(r)for(var n=r.length-1;n>=0;--n)if(r[n]===e){r.splice(n,1);break}},_pollTimer:null,_noactivityTimer:null,_xhr:null,lastEventId:null,cache:"",cursor:0,onerror:null,onmessage:null,onopen:null,readyState:0,urlWithParams:function(t,e){var r=[];if(e){var n,o,i=encodeURIComponent;for(n in e)e.hasOwnProperty(n)&&(o=i(n)+"="+i(e[n]),r.push(o))}return r.length>0?-1==t.indexOf("?")?t+"?"+r.join("&"):t+"&"+r.join("&"):t},lastMessageIndex:function(t){var e=t.lastIndexOf("\n\n"),r=t.lastIndexOf("\r\r"),n=t.lastIndexOf("\r\n\r\n");return n>Math.max(e,r)?[n,n+4]:[Math.max(e,r),Math.max(e,r)+2]},trimWhiteSpace:function(t){return t.replace(/^(\s|\u00A0)+|(\s|\u00A0)+$/g,"")},normalizeToLF:function(t){return t.replace(/\r\n|\r/g,"\n")}},Boolean("undefined"!=typeof window&&window.XDomainRequest&&window.XMLHttpRequest&&void 0===(new XMLHttpRequest).responseType)){t.isPolyfill="IE_8-9";var e=t.prototype.defaultOptions;e.xhrHeaders=null,e.getArgs.evs_preamble=2056,t.prototype.XHR=function(t){var e=new XDomainRequest;this._request=e,e.onprogress=function(){e._ready=!0,t._onxhrdata()},e.onload=function(){this._loaded=!0,t._onxhrdata()},e.onerror=function(){this._failed=!0,t.readyState=t.CLOSED,t.dispatchEvent("error",{type:"error",data:"XDomainRequest error"})},e.ontimeout=function(){this._failed=!0,t.readyState=t.CLOSED,t.dispatchEvent("error",{type:"error",data:"XDomainRequest timed out"})};var r={};if(t.getArgs){var n=t.getArgs;for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o]);t.lastEventId&&(r.evs_last_event_id=t.lastEventId)}e.open("GET",t.urlWithParams(t.URL,r)),e.send()},t.prototype.XHR.prototype={useXDomainRequest:!0,_request:null,_ready:!1,_loaded:!1,_failed:!1,isReady:function(){return this._request._ready},isDone:function(){return this._request._loaded},hasError:function(){return this._request._failed},getBuffer:function(){var t="";try{t=this._request.responseText||""}catch(e){}return t},abort:function(){this._request&&this._request.abort()}}}else t.isPolyfill="XHR",t.prototype.XHR=function(t){var e=new XMLHttpRequest;this._request=e,t._xhr=this,e.onreadystatechange=function(){e.readyState>1&&t.readyState!=t.CLOSED&&(200==e.status||e.status>=300&&e.status<400?t._onxhrdata():(e._failed=!0,t.readyState=t.CLOSED,t.dispatchEvent("error",{type:"error",data:"The server responded with "+e.status}),t.close()))},e.onprogress=function(){},e.open("GET",t.urlWithParams(t.URL,t.getArgs),!0);var r=t.xhrHeaders;for(var n in r)r.hasOwnProperty(n)&&e.setRequestHeader(n,r[n]);t.lastEventId&&e.setRequestHeader("Last-Event-Id",t.lastEventId),e.send()},t.prototype.XHR.prototype={useXDomainRequest:!1,_request:null,_failed:!1,isReady:function(){return this._request.readyState>=2},isDone:function(){return 4==this._request.readyState},hasError:function(){return this._failed||this._request.status>=400},getBuffer:function(){var t="";try{t=this._request.responseText||""}catch(e){}return t},abort:function(){this._request&&this._request.abort()}};function r(t,e,r,n){this.bubbles=!1,this.cancelBubble=!1,this.cancelable=!1,this.data=e||null,this.origin=r||"",this.lastEventId=n||"",this.type=t||"message"}return t}));var Sr=xr.exports,Pr=window.EventSource||Sr.EventSource,Tr=function(t){return"https://docs.sanity.io/help/"+t},Ir=function(t){var e,r=!1;return function(){return r||(e=t.apply(void 0,arguments),r=!0),e}};function Ar(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function qr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ar(Object(r),!0).forEach((function(e){Cr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ar(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Cr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Rr=ft,Dr=jr,Mr=Pr,kr=function(t,e){return e.reduce((function(e,r){return void 0===t[r]||(e[r]=t[r]),e}),{})},Nr=Ir,$r=function(t,e){return Object.keys(e).concat(Object.keys(t)).reduce((function(r,n){return r[n]=void 0===t[n]?e[n]:t[n],r}),{})},Hr=je,Ur=["Using token with listeners is not supported in browsers. ","For more info, see ".concat(Tr("js-client-listener-tokens-browser"),".")],Lr=Nr((function(){return console.warn(Ur.join(" "))})),zr=Boolean("undefined"!=typeof window&&window.EventSource),Br=zr?window.EventSource:Mr,Fr=["includePreviousRevision","includeResult","visibility","effectFormat","tag"],Xr={includeResult:!0};function Vr(t){try{var e=t.data&&JSON.parse(t.data)||{};return Rr({type:t.type},e)}catch(r){return r}}function Wr(t){if(t instanceof Error)return t;var e=Vr(t);return e instanceof Error?e:new Error(function(t){if(!t.error)return t.message||"Unknown listener error";if(t.error.description)return t.error.description;return"string"==typeof t.error?t.error:JSON.stringify(t.error,null,2)}(e))}function Gr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Jr=ft,Yr=lt.filter,Kr=Wt.map,Zr=se,Qr=ie,tn=je,en=_e,rn=de,nn=function(t,e){return!1===t?void 0:void 0===t?e:t},on=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{returnIds:!0,returnDocuments:nn(t.returnDocuments,!0),visibility:t.visibility||"sync"}},sn=function(t){return"response"===t.type},an=function(t){return t.body},un=function(t,e){return t.reduce((function(t,r){return t[e(r)]=r,t}),Object.create(null))},cn=function(t){return t.toPromise()},fn={listen:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.clientConfig,o=n.url,i=n.token,s=n.withCredentials,a=n.requestTagPrefix,u=r.tag&&a?[a,r.tag].join("."):r.tag,c=qr(qr({},$r(r,Xr)),{},{tag:u}),f=kr(c,Fr),l=Hr({query:t,params:e,options:f,tag:u}),h="".concat(o).concat(this.getDataUrl("listen",l)),p=c.events?c.events:["mutation"],d=-1!==p.indexOf("reconnect");i&&zr&&Lr();var y={};return(i||s)&&(y.withCredentials=!0),i&&(y.headers={Authorization:"Bearer ".concat(i)}),new Dr((function(t){var e,r=c(),n=!1;function o(){n||(d&&t.next({type:"reconnect"}),n||r.readyState===Br.CLOSED&&(u(),clearTimeout(e),e=setTimeout(f,100)))}function i(e){t.error(Wr(e))}function s(e){var r=Vr(e);return r instanceof Error?t.error(r):t.next(r)}function a(e){n=!0,u(),t.complete()}function u(){r.removeEventListener("error",o,!1),r.removeEventListener("channelError",i,!1),r.removeEventListener("disconnect",a,!1),p.forEach((function(t){return r.removeEventListener(t,s,!1)})),r.close()}function c(){var t=new Br(h,y);return t.addEventListener("error",o,!1),t.addEventListener("channelError",i,!1),t.addEventListener("disconnect",a,!1),p.forEach((function(e){return t.addEventListener(e,s,!1)})),t}function f(){r=c()}return function(){n=!0,u()}}))},getDataUrl:function(t,e){var r=this.clientConfig,n=r.gradientMode?r.namespace:Zr.hasDataset(r),o="/".concat(t,"/").concat(n),i=e?"".concat(o,"/").concat(e):o;return(this.clientConfig.gradientMode?i:"/data".concat(i)).replace(/\/($|\?)/,"$1")},fetch:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=!1===r.filterResponse?function(t){return t}:function(t){return t.result},o=this._dataRequest("query",{query:t,params:e},r).pipe(Kr(n));return this.isPromiseAPI()?cn(o):o},getDocument:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={uri:this.getDataUrl("doc",t),json:!0,tag:e.tag},n=this._requestObservable(r).pipe(Yr(sn),Kr((function(t){return t.body.documents&&t.body.documents[0]})));return this.isPromiseAPI()?cn(n):n},getDocuments:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={uri:this.getDataUrl("doc",t.join(",")),json:!0,tag:e.tag},n=this._requestObservable(r).pipe(Yr(sn),Kr((function(e){var r=un(e.body.documents||[],(function(t){return t._id}));return t.map((function(t){return r[t]||null}))})));return this.isPromiseAPI()?cn(n):n},create:function(t,e){return this._create(t,"create",e)},createIfNotExists:function(t,e){return Zr.requireDocumentId("createIfNotExists",t),this._create(t,"createIfNotExists",e)},createOrReplace:function(t,e){return Zr.requireDocumentId("createOrReplace",t),this._create(t,"createOrReplace",e)},patch:function(t,e){return new rn(t,e,this)},delete:function(t,e){return this.dataRequest("mutate",{mutations:[{delete:Qr(t)}]},e)},mutate:function(t,e){var r=t instanceof rn||t instanceof en?t.serialize():t,n=Array.isArray(r)?r:[r],o=e&&e.transactionId;return this.dataRequest("mutate",{mutations:n,transactionId:o},e)},transaction:function(t){return new en(t,this)},dataRequest:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this._dataRequest(t,e,r);return this.isPromiseAPI()?cn(n):n},_dataRequest:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n="mutate"===t,o=!n&&tn(e),i=!n&&o.length<11264,s=i?o:"",a=r.returnFirst,u=r.timeout,c=r.token,f=r.tag,l=this.getDataUrl(t,s),h={method:i?"GET":"POST",uri:l,json:!0,body:i?void 0:e,query:n&&on(r),timeout:u,token:c,tag:f};return this._requestObservable(h).pipe(Yr(sn),Kr(an),Kr((function(t){if(!n)return t;var e=t.results||[];if(r.returnDocuments)return a?e[0]&&e[0].document:e.map((function(t){return t.document}));var o=a?"documentId":"documentIds",i=a?e[0]&&e[0].id:e.map((function(t){return t.id}));return Gr({transactionId:t.transactionId,results:e},o,i)})))},_create:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Gr({},e,t),o=Jr({returnFirst:!0,returnDocuments:!0},r);return this.dataRequest("mutate",{mutations:[n]},o)}},ln=se;function hn(t){this.request=t.request.bind(t)}ft(hn.prototype,{create:function(t,e){return this._modify("PUT",t,e)},edit:function(t,e){return this._modify("PATCH",t,e)},delete:function(t){return this._modify("DELETE",t)},list:function(){return this.request({uri:"/datasets"})},_modify:function(t,e,r){return ln.dataset(e),this.request({method:t,uri:"/datasets/".concat(e),body:r})}});var pn=hn;function dn(t){this.client=t}ft(dn.prototype,{list:function(){return this.client.request({uri:"/projects"})},getById:function(t){return this.client.request({uri:"/projects/".concat(t)})}});var yn=dn;function bn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(u){o=!0,i=u}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return vn(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vn(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vn(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var gn=ft,mn=Wt.map,wn=lt.filter,_n=function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push("".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(t[r])));return e.length>0?"?".concat(e.join("&")):""},On=se;function En(t){this.client=t}function jn(t){var e=t.document;return Object.defineProperty(e,"document",{enumerable:!1,get:function(){return console.warn("The promise returned from client.asset.upload(...) now resolves with the asset document"),e}}),e}function xn(t,e){return"undefined"!=typeof window&&e instanceof window.File?gn({filename:!1===t.preserveFilename?void 0:e.name,contentType:e.type},t):t}gn(En.prototype,{upload:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};On.validateAssetType(t);var n=r.extract||void 0;n&&!n.length&&(n=["none"]);var o=On.hasDataset(this.client.clientConfig),i="image"===t?"images":"files",s=xn(r,e),a=s.tag,u=s.label,c=s.title,f=s.description,l=s.creditLine,h=s.filename,p=s.source,d={label:u,title:c,description:f,filename:h,meta:n,creditLine:l};p&&(d.sourceId=p.id,d.sourceName=p.name,d.sourceUrl=p.url);var y=this.client._requestObservable({tag:a,method:"POST",timeout:s.timeout||0,uri:"/assets/".concat(i,"/").concat(o),headers:s.contentType?{"Content-Type":s.contentType}:{},query:d,body:e});return this.client.isPromiseAPI()?y.pipe(wn((function(t){return"response"===t.type})),mn((function(t){return jn(t.body)}))).toPromise():y},delete:function(t,e){console.warn("client.assets.delete() is deprecated, please use client.delete(<document-id>)");var r=e||"";return/^(image|file)-/.test(r)?t._id&&(r=t._id):r="".concat(t,"-").concat(r),On.hasDataset(this.client.clientConfig),this.client.delete(r)},getImageUrl:function(t,e){var r=t._ref||t;if("string"!=typeof r)throw new Error("getImageUrl() needs either an object with a _ref, or a string with an asset document ID");if(!/^image-[A-Za-z0-9_]+-\d+x\d+-[a-z]{1,5}$/.test(r))throw new Error('Unsupported asset ID "'.concat(r,'". URL generation only works for auto-generated IDs.'));var n=bn(r.split("-"),4),o=n[1],i=n[2],s=n[3];On.hasDataset(this.client.clientConfig);var a=this.client.clientConfig,u=a.projectId,c=a.dataset,f=e?_n(e):"";return"https://cdn.sanity.io/images/".concat(u,"/").concat(c,"/").concat(o,"-").concat(i,".").concat(s).concat(f)}});var Sn=En;function Pn(t){this.client=t}ft(Pn.prototype,{getById:function(t){return this.client.request({uri:"/users/".concat(t)})}});var Tn=Pn;function In(t){this.client=t}ft(In.prototype,{getLoginProviders:function(){return this.client.request({uri:"/auth/providers"})},logout:function(){return this.client.request({uri:"/auth/logout",method:"POST"})}});var An=In,qn={},Cn=Object.prototype.hasOwnProperty;function Rn(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return null}}function Dn(t){try{return encodeURIComponent(t)}catch(e){return null}}qn.stringify=function(t,e){e=e||"";var r,n,o=[];for(n in"string"!=typeof e&&(e="?"),t)if(Cn.call(t,n)){if((r=t[n])||null!=r&&!isNaN(r)||(r=""),n=Dn(n),r=Dn(r),null===n||null===r)continue;o.push(n+"="+r)}return o.length?e+o.join("&"):""},qn.parse=function(t){for(var e,r=/([^=?#&]+)=?([^&]*)/g,n={};e=r.exec(t);){var o=Rn(e[1]),i=Rn(e[2]);null===o||null===i||o in n||(n[o]=i)}return n};var Mn=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t},kn=qn,Nn=/^[A-Za-z][A-Za-z0-9+-.]*:[\\/]+/,$n=/^([a-z][a-z0-9.+-]*:)?([\\/]{1,})?([\S\s]*)/i,Hn=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function Un(t){return(t||"").toString().replace(Hn,"")}var Ln=[["#","hash"],["?","query"],function(t){return t.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],zn={hash:1,query:1};function Bn(t){var e,r=("undefined"!=typeof window?window:void 0!==it?it:"undefined"!=typeof self?self:{}).location||{},n={},o=typeof(t=t||r);if("blob:"===t.protocol)n=new Xn(unescape(t.pathname),{});else if("string"===o)for(e in n=new Xn(t,{}),zn)delete n[e];else if("object"===o){for(e in t)e in zn||(n[e]=t[e]);void 0===n.slashes&&(n.slashes=Nn.test(t.href))}return n}function Fn(t){t=Un(t);var e=$n.exec(t);return{protocol:e[1]?e[1].toLowerCase():"",slashes:!!(e[2]&&e[2].length>=2),rest:e[2]&&1===e[2].length?"/"+e[3]:e[3]}}function Xn(t,e,r){if(t=Un(t),!(this instanceof Xn))return new Xn(t,e,r);var n,o,i,s,a,u,c=Ln.slice(),f=typeof e,l=this,h=0;for("object"!==f&&"string"!==f&&(r=e,e=null),r&&"function"!=typeof r&&(r=kn.parse),e=Bn(e),n=!(o=Fn(t||"")).protocol&&!o.slashes,l.slashes=o.slashes||n&&e.slashes,l.protocol=o.protocol||e.protocol||"",t=o.rest,o.slashes||(c[3]=[/(.*)/,"pathname"]);h<c.length;h++)"function"!=typeof(s=c[h])?(i=s[0],u=s[1],i!=i?l[u]=t:"string"==typeof i?~(a=t.indexOf(i))&&("number"==typeof s[2]?(l[u]=t.slice(0,a),t=t.slice(a+s[2])):(l[u]=t.slice(a),t=t.slice(0,a))):(a=i.exec(t))&&(l[u]=a[1],t=t.slice(0,a.index)),l[u]=l[u]||n&&s[3]&&e[u]||"",s[4]&&(l[u]=l[u].toLowerCase())):t=s(t);r&&(l.query=r(l.query)),n&&e.slashes&&"/"!==l.pathname.charAt(0)&&(""!==l.pathname||""!==e.pathname)&&(l.pathname=function(t,e){if(""===t)return e;for(var r=(e||"/").split("/").slice(0,-1).concat(t.split("/")),n=r.length,o=r[n-1],i=!1,s=0;n--;)"."===r[n]?r.splice(n,1):".."===r[n]?(r.splice(n,1),s++):s&&(0===n&&(i=!0),r.splice(n,1),s--);return i&&r.unshift(""),"."!==o&&".."!==o||r.push(""),r.join("/")}(l.pathname,e.pathname)),"/"!==l.pathname.charAt(0)&&l.hostname&&(l.pathname="/"+l.pathname),Mn(l.port,l.protocol)||(l.host=l.hostname,l.port=""),l.username=l.password="",l.auth&&(s=l.auth.split(":"),l.username=s[0]||"",l.password=s[1]||""),l.origin=l.protocol&&l.host&&"file:"!==l.protocol?l.protocol+"//"+l.host:"null",l.href=l.toString()}Xn.prototype={set:function(t,e,r){var n=this;switch(t){case"query":"string"==typeof e&&e.length&&(e=(r||kn.parse)(e)),n[t]=e;break;case"port":n[t]=e,Mn(e,n.protocol)?e&&(n.host=n.hostname+":"+e):(n.host=n.hostname,n[t]="");break;case"hostname":n[t]=e,n.port&&(e+=":"+n.port),n.host=e;break;case"host":n[t]=e,/:\d+$/.test(e)?(e=e.split(":"),n.port=e.pop(),n.hostname=e.join(":")):(n.hostname=e,n.port="");break;case"protocol":n.protocol=e.toLowerCase(),n.slashes=!r;break;case"pathname":case"hash":if(e){var o="pathname"===t?"/":"#";n[t]=e.charAt(0)!==o?o+e:e}else n[t]=e;break;default:n[t]=e}for(var i=0;i<Ln.length;i++){var s=Ln[i];s[4]&&(n[s[1]]=n[s[1]].toLowerCase())}return n.origin=n.protocol&&n.host&&"file:"!==n.protocol?n.protocol+"//"+n.host:"null",n.href=n.toString(),n},toString:function(t){t&&"function"==typeof t||(t=kn.stringify);var e,r=this,n=r.protocol;n&&":"!==n.charAt(n.length-1)&&(n+=":");var o=n+(r.slashes?"//":"");return r.username&&(o+=r.username,r.password&&(o+=":"+r.password),o+="@"),o+=r.host+r.pathname,(e="object"==typeof r.query?t(r.query):r.query)&&(o+="?"!==e.charAt(0)?"?"+e:e),r.hash&&(o+=r.hash),o}},Xn.extractProtocol=Fn,Xn.location=Bn,Xn.trimLeft=Un,Xn.qs=kn;var Vn=ft,Wn=Xn,Gn="undefined"!=typeof navigator&&"ReactNative"===navigator.product,Jn=Object.prototype.hasOwnProperty,Yn={timeout:Gn?6e4:12e4};function Kn(t){var e=[];for(var r in t)Jn.call(t,r)&&n(r,t[r]);return e.length?e.join("&"):"";function n(t,r){Array.isArray(r)?r.forEach((function(e){return n(t,e)})):e.push([t,r].map(encodeURIComponent).join("="))}}function Zn(t){if(!1===t||0===t)return!1;if(t.connect||t.socket)return t;var e=Number(t);return isNaN(e)?Zn(Yn.timeout):{connect:e,socket:e}}var Qn=/^https?:\/\//i,to=/^(?:(?:(?:([^:\/#\?]+:)?(?:(?:\/\/)((?:((?:[^:@\/#\?]+)(?:\:(?:[^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((?:\/?(?:[^\/\?#]+\/+)*)(?:[^\?#]*)))?(\?[^#]+)?)(#.*)?/,eo={regex:to,parse:function(t){var e=to.exec(t);return e?{protocol:(e[1]||"").toLowerCase()||void 0,hostname:(e[5]||"").toLowerCase()||void 0,port:e[6]||void 0}:{}}},ro=function(t){return t.replace(/^\s+|\s+$/g,"")},no=function(t,e,r){if(t===e)return!0;var n=eo.parse(t,!1,!0),o=eo.parse(e,!1,!0),i=0|n.port||("https"===n.protocol?443:80),s=0|o.port||("https"===o.protocol?443:80),a={proto:n.protocol===o.protocol,hostname:n.hostname===o.hostname,port:i===s};return a.proto&&a.hostname&&(a.port||r)},oo=function(t){if(!t)return{};for(var e,r={},n=ro(t).split("\n"),o=0;o<n.length;o++){var i=n[o],s=i.indexOf(":"),a=ro(i.slice(0,s)).toLowerCase(),u=ro(i.slice(s+1));void 0===r[a]?r[a]=u:(e=r[a],"[object Array]"===Object.prototype.toString.call(e)?r[a].push(u):r[a]=[r[a],u])}return r},io=window,so=io.XMLHttpRequest||function(){},ao="withCredentials"in new so?so:io.XDomainRequest,uo=function(){var t=[];return{subscribe:function(e){return t.push(e),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}},publish:function(){for(var e=0;e<t.length;e++)t[e].apply(null,arguments)}}},co=function(t){return function(e,r){for(var n=arguments.length,o=Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];for(var s="onError"===e,a=r,u=0;u<t[e].length;u++){var c=t[e][u];if(a=c.apply(void 0,[a].concat(o)),s&&!a)break}return a}},fo=function(t){var e="string"==typeof t?Vn({url:t},Yn):Vn({},Yn,t),r=Wn(e.url,{},!0);return e.timeout=Zn(e.timeout),e.query&&(r.query=Vn({},r.query,function(t){var e={};for(var r in t)void 0!==t[r]&&(e[r]=t[r]);return e}(e.query))),e.method=e.body&&!e.method?"POST":(e.method||"GET").toUpperCase(),e.url=r.toString(Kn),e},lo=function(t){if(!Qn.test(t.url))throw new Error('"'+t.url+'" is not a valid URL')},ho=function(t,e){var r=t.options,n=t.applyMiddleware("finalizeOptions",r),o={},i=io&&io.location&&!no(io.location.href,n.url),s=t.applyMiddleware("interceptRequest",void 0,{adapter:"xhr",context:t});if(s){var a=setTimeout(e,0,null,s);return{abort:function(){return clearTimeout(a)}}}var u=i?new ao:new so,c=io.XDomainRequest&&u instanceof io.XDomainRequest,f=n.headers,l=!1,h=!1,p=!1;if(u.onerror=g,u.ontimeout=g,u.onabort=function(){l=!0},u.onprogress=function(){},u[c?"onload":"onreadystatechange"]=function(){!function(){if(!y)return;v(),o.socket=setTimeout((function(){return b("ESOCKETTIMEDOUT")}),y.socket)}(),l||4!==u.readyState&&!c||0!==u.status&&function(){if(l||h||p)return;if(0===u.status)return void g();v(),h=!0,e(null,function(){var t=u.status,e=u.statusText;if(c&&void 0===t)t=200;else{if(t>12e3&&t<12156)return g();t=1223===u.status?204:u.status,e=1223===u.status?"No Content":e}return{body:u.response||u.responseText,url:n.url,method:n.method,headers:c?{}:oo(u.getAllResponseHeaders()),statusCode:t,statusMessage:e}}())}()},u.open(n.method,n.url,!0),u.withCredentials=!!n.withCredentials,f&&u.setRequestHeader)for(var d in f)f.hasOwnProperty(d)&&u.setRequestHeader(d,f[d]);else if(f&&c)throw new Error("Headers cannot be set on an XDomainRequest object");n.rawBody&&(u.responseType="arraybuffer"),t.applyMiddleware("onRequest",{options:n,adapter:"xhr",request:u,context:t}),u.send(n.body||null);var y=n.timeout;return y&&(o.connect=setTimeout((function(){return b("ETIMEDOUT")}),y.connect)),{abort:function(){l=!0,u&&u.abort()}};function b(e){p=!0,u.abort();var r=new Error("ESOCKETTIMEDOUT"===e?"Socket timed out on request to "+n.url:"Connection timed out on request to "+n.url);r.code=e,t.channels.error.publish(r)}function v(){(l||u.readyState>=2&&o.connect)&&clearTimeout(o.connect),o.socket&&clearTimeout(o.socket)}function g(){if(!h){v(),h=!0,u=null;var t=new Error("Network error while attempting to reach "+n.url);t.isNetworkError=!0,t.request=n,e(t)}}},po=["request","response","progress","error","abort"],yo=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"],bo=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=[],n=yo.reduce((function(t,e){return t[e]=t[e]||[],t}),{processOptions:[fo],validateOptions:[lo]});function o(t){var e=po.reduce((function(t,e){return t[e]=uo(),t}),{}),r=co(n),o=r("processOptions",t);r("validateOptions",o);var i={options:o,channels:e,applyMiddleware:r},s=null,a=e.request.subscribe((function(t){s=ho(t,(function(n,o){return function(t,o,i){var s=t,a=o;if(!s)try{a=r("onResponse",o,i)}catch(n){a=null,s=n}(s=s&&r("onError",s,i))?e.error.publish(s):a&&e.response.publish(a)}(n,o,t)}))}));e.abort.subscribe((function(){a(),s&&s.abort()}));var u=r("onReturn",e,i);return u===e&&e.request.publish(i),u}return o.use=function(t){if(!t)throw new Error("Tried to add middleware that resolved to falsey value");if("function"==typeof t)throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(t.onReturn&&n.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return yo.forEach((function(e){t[e]&&n[e].push(t[e])})),r.push(t),o},o.clone=function(){return t(r)},e.forEach(o.use),o},vo={exports:{}};"undefined"!=typeof window?vo.exports=window:void 0!==it?vo.exports=it:"undefined"!=typeof self?vo.exports=self:vo.exports={};var go=vo.exports,mo=ft,wo=function(t){return null!=t&&"object"==typeof t&&!1===Array.isArray(t)};function _o(t){return!0===wo(t)&&"[object Object]"===Object.prototype.toString.call(t)}var Oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eo=ft,jo=function(t){var e,r;return!1!==_o(t)&&("function"==typeof(e=t.constructor)&&(!1!==_o(r=e.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf")))},xo=["boolean","string","number"],So=ft;function Po(t){try{return JSON.parse(t)}catch(e){throw e.message="Failed to parsed response body as JSON: "+e.message,e}}var To=function(){return{onRequest:function(t){if("xhr"===t.adapter){var e=t.request,r=t.context;"upload"in e&&"onprogress"in e.upload&&(e.upload.onprogress=n("upload")),"onprogress"in e&&(e.onprogress=n("download"))}function n(t){return function(e){var n=e.lengthComputable?e.loaded/e.total*100:-1;r.channels.progress.publish({stage:t,percent:n,total:e.total,loaded:e.loaded,lengthComputable:e.lengthComputable})}}}}},Io={},Ao={exports:{}};!function(t,e){var r="undefined"!=typeof Reflect?Reflect.construct:void 0,n=Object.defineProperty,o=Error.captureStackTrace;function i(t){void 0!==t&&n(this,"message",{configurable:!0,value:t,writable:!0});var e=this.constructor.name;void 0!==e&&e!==this.name&&n(this,"name",{configurable:!0,value:e,writable:!0}),o(this,this.constructor)}void 0===o&&(o=function(t){var e=new Error;n(t,"stack",{configurable:!0,get:function(){var t=e.stack;return n(this,"stack",{configurable:!0,value:t,writable:!0}),t},set:function(e){n(t,"stack",{configurable:!0,value:e,writable:!0})}})}),i.prototype=Object.create(Error.prototype,{constructor:{configurable:!0,value:i,writable:!0}});var s=function(){function t(t,e){return n(t,"name",{configurable:!0,value:e})}try{var e=function(){};if(t(e,"foo"),"foo"===e.name)return t}catch(r){}}();(t.exports=function(t,e){if(null==e||e===Error)e=i;else if("function"!=typeof e)throw new TypeError("super_ should be a function");var n;if("string"==typeof t)n=t,t=void 0!==r?function(){return r(e,arguments,this.constructor)}:function(){e.apply(this,arguments)},void 0!==s&&(s(t,n),n=void 0);else if("function"!=typeof t)throw new TypeError("constructor should be either a string or a function");t.super_=t.super=e;var o={constructor:{configurable:!0,value:t,writable:!0}};return void 0!==n&&(o.name={configurable:!0,value:n,writable:!0}),t.prototype=Object.create(e.prototype,o),t}).BaseError=i}(Ao);var qo=Ao.exports,Co=ft;function Ro(t){var e=Mo(t);Ro.super.call(this,e.message),Co(this,e)}function Do(t){var e=Mo(t);Do.super.call(this,e.message),Co(this,e)}function Mo(t){var e=t.body,r={response:t,statusCode:t.statusCode,responseBody:ko(e,t)};return e.error&&e.message?(r.message="".concat(e.error," - ").concat(e.message),r):e.error&&e.error.description?(r.message=e.error.description,r.details=e.error,r):(r.message=e.error||e.message||function(t){var e=t.statusMessage?" ".concat(t.statusMessage):"";return"".concat(t.method,"-request to ").concat(t.url," resulted in HTTP ").concat(t.statusCode).concat(e)}(t),r)}function ko(t,e){return-1!==(e.headers["content-type"]||"").toLowerCase().indexOf("application/json")?JSON.stringify(t,null,2):t}qo(Ro),qo(Do),Io.ClientError=Ro,Io.ServerError=Do;var No=bo,$o=ft,Ho=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.implementation||go.Observable;if(!e)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:function(t,r){return new e((function(e){return t.error.subscribe((function(t){return e.error(t)})),t.progress.subscribe((function(t){return e.next(mo({type:"progress"},t))})),t.response.subscribe((function(t){e.next(mo({type:"response"},t)),e.complete()})),t.request.publish(r),function(){return t.abort.publish()}}))}}},Uo=function(){return{processOptions:function(t){var e,r=t.body;return r&&!("function"==typeof r.pipe)&&!((e=r).constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e))&&(-1!==xo.indexOf(void 0===r?"undefined":Oo(r))||Array.isArray(r)||jo(r))?Eo({},t,{body:JSON.stringify(t.body),headers:Eo({},t.headers,{"Content-Type":"application/json"})}):t}}},Lo=function(t){return{onResponse:function(e){var r=e.headers["content-type"]||"",n=t&&t.force||-1!==r.indexOf("application/json");return e.body&&r&&n?So({},e,{body:Po(e.body)}):e},processOptions:function(t){return So({},t,{headers:So({Accept:"application/json"},t.headers)})}}},zo=To,Bo=jr,Fo=Io,Xo=Fo.ClientError,Vo=Fo.ServerError,Wo={onResponse:function(t){if(t.statusCode>=500)throw new Vo(t);if(t.statusCode>=400)throw new Xo(t);return t}},Go=No([].concat([{onResponse:function(t){var e=t.headers["x-sanity-warning"];return(Array.isArray(e)?e:[e]).filter(Boolean).forEach((function(t){return console.warn(t)})),t}},Uo(),Lo(),zo(),Wo,Ho({implementation:Bo})]));function Jo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Go;return e($o({maxRedirects:0},t))}Jo.defaultRequester=Go,Jo.ClientError=Xo,Jo.ServerError=Vo;var Yo=Jo,Ko=ft,Zo={},Qo={},ti=Tr,ei=Ir,ri=function(t){return ei((function(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=console).warn.apply(e,[t.join(" ")].concat(n))}))};function ni(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function oi(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}Qo.printCdnWarning=ri(["You are not using the Sanity CDN. That means your data is always fresh, but the CDN is faster and","cheaper. Think about it! For more info, see ".concat(ti("js-client-cdn-configuration"),"."),"To hide this warning, please set the `useCdn` option to either `true` or `false` when creating","the client."]),Qo.printBrowserTokenWarning=ri(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.","See ".concat(ti("js-client-browser-token")," for more information and how to hide this warning.")]),Qo.printCdnTokenWarning=ri(["You have set `useCdn` to `true` while also specifying a token. This is usually not what you","want. The CDN cannot be used with an authorization token, since private data cannot be cached.","See ".concat(ti("js-client-usecdn-token")," for more information.")]),Qo.printNoApiVersionSpecifiedWarning=ri(["Using the Sanity client without specifying an API version is deprecated.","See ".concat(ti("js-client-api-version"))]),function(t){var e=Tr,r=ft,n=se,o=Qo,i={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0,gradientMode:!1,isPromiseAPI:!0},s=["localhost","127.0.0.1","0.0.0.0"];t.defaultConfig=i,t.initConfig=function(a,u){var c=r({},u,a);c.apiVersion||o.printNoApiVersionSpecifiedWarning();var f=r({},i,c),l=f.gradientMode,h=!l&&f.useProjectHostname;if("undefined"==typeof Promise){var p=e("js-client-promise-polyfill");throw new Error("No native Promise-implementation found, polyfill needed - see ".concat(p))}if(l&&!f.namespace)throw new Error("Configuration must contain `namespace` when running in gradient mode");if(h&&!f.projectId)throw new Error("Configuration must contain `projectId`");var d="undefined"!=typeof window&&window.location&&window.location.hostname,y=d&&function(t){return-1!==s.indexOf(t)}(window.location.hostname);if(d&&y&&f.token&&!0!==f.ignoreBrowserTokenWarning?o.printBrowserTokenWarning():(!d||y)&&f.useCdn&&f.token?o.printCdnTokenWarning():void 0===f.useCdn&&o.printCdnWarning(),h&&n.projectId(f.projectId),!l&&f.dataset&&n.dataset(f.dataset,f.gradientMode),"requestTagPrefix"in f&&(f.requestTagPrefix=f.requestTagPrefix?n.requestTag(f.requestTagPrefix).replace(/\.+$/,""):void 0),f.apiVersion="".concat(f.apiVersion).replace(/^v/,""),f.isDefaultApi=f.apiHost===i.apiHost,f.useCdn=Boolean(f.useCdn)&&!f.token&&!f.withCredentials,t.validateApiVersion(f.apiVersion),f.gradientMode)f.url=f.apiHost,f.cdnUrl=f.apiHost;else{var b=f.apiHost.split("://",2),v=b[0],g=b[1],m=f.isDefaultApi?"apicdn.sanity.io":g;f.useProjectHostname?(f.url="".concat(v,"://").concat(f.projectId,".").concat(g,"/v").concat(f.apiVersion),f.cdnUrl="".concat(v,"://").concat(f.projectId,".").concat(m,"/v").concat(f.apiVersion)):(f.url="".concat(f.apiHost,"/v").concat(f.apiVersion),f.cdnUrl=f.url)}return f},t.validateApiVersion=function(t){if("1"!==t&&"X"!==t){var e=new Date(t);if(!(/^\d{4}-\d{2}-\d{2}$/.test(t)&&e instanceof Date&&e.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")}}}(Zo);var ii=ft,si=lt.filter,ai=Wt.map,ui=de,ci=_e,fi=fn,li=pn,hi=yn,pi=Sn,di=Tn,yi=An,bi=Yo,vi=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},n=e.token||t.token;n&&(r.Authorization="Bearer ".concat(n)),e.useGlobalApi||t.useProjectHostname||!t.projectId||(r["X-Sanity-Project-ID"]=t.projectId);var o=Boolean(void 0===e.withCredentials?t.token||t.withCredentials:e.withCredentials),i=void 0===e.timeout?t.timeout:e.timeout;return Ko({},e,{headers:Ko({},r,e.headers||{}),timeout:void 0===i?3e5:i,json:!0,withCredentials:o})},gi=Zo.defaultConfig,mi=Zo.initConfig,wi=se;function _i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gi;if(!(this instanceof _i))return new _i(t);if(this.config(t),this.assets=new pi(this),this.datasets=new li(this),this.projects=new hi(this),this.users=new di(this),this.auth=new yi(this),this.clientConfig.isPromiseAPI){var e=ii({},this.clientConfig,{isPromiseAPI:!1});this.observable=new _i(e)}}ii(_i.prototype,fi),ii(_i.prototype,{clone:function(){return new _i(this.config())},config:function(t){if(void 0===t)return ii({},this.clientConfig);if(this.observable){var e=ii({},t,{isPromiseAPI:!1});this.observable.config(e)}return this.clientConfig=mi(t,this.clientConfig||{}),this},withConfig:function(t){return this.clone().config(t)},getUrl:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e?this.clientConfig.cdnUrl:this.clientConfig.url;return"".concat(r,"/").concat(t.replace(/^\//,""))},isPromiseAPI:function(){return this.clientConfig.isPromiseAPI},_requestObservable:function(t){var e=t.url||t.uri,r=this.clientConfig.useCdn&&["GET","HEAD"].indexOf(t.method||"GET")>=0&&0===e.indexOf("/data/"),n=t.tag&&this.clientConfig.requestTagPrefix?[this.clientConfig.requestTagPrefix,t.tag].join("."):t.tag||this.clientConfig.requestTagPrefix;n&&(t.query=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ni(Object(r),!0).forEach((function(e){oi(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ni(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({tag:wi.requestTag(n)},t.query));var o=vi(this.clientConfig,ii({},t,{url:this.getUrl(e,r)}));return bi(o,this.clientConfig.requester)},request:function(t){var e=this._requestObservable(t).pipe(si((function(t){return"response"===t.type})),ai((function(t){return t.body})));return this.isPromiseAPI()?function(t){return t.toPromise()}(e):e}}),_i.Patch=ui,_i.Transaction=ci,_i.ClientError=bi.ClientError,_i.ServerError=bi.ServerError,_i.requester=bi.defaultRequester;var Oi=_i,Ei={exports:{}},ji=Ei.exports=function(){function t(){return(t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function e(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function n(t){var r=0;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=e(t)))return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=t[Symbol.iterator]()).next.bind(r)}var o="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function i(t){var e=t.split("-"),r=e[1],n=e[2],i=e[3];if(!r||!n||!i)throw new Error("Malformed asset _ref '"+t+"'. Expected an id like \""+o+'".');var s=n.split("x"),a=+s[0],u=+s[1];if(!isFinite(a)||!isFinite(u))throw new Error("Malformed asset _ref '"+t+"'. Expected an id like \""+o+'".');return{id:r,width:a,height:u,format:i}}var s=function(t){return!!t&&"string"==typeof t._ref},a=function(t){return!!t&&"string"==typeof t._id},u=function(t){var e=t;return!(!e||!e.asset)&&"string"==typeof e.asset.url};function c(t){if(!t)return null;var e;if("string"==typeof t&&f(t))e={asset:{_ref:l(t)}};else if("string"==typeof t)e={asset:{_ref:t}};else if(s(t))e={asset:t};else if(a(t))e={asset:{_ref:t._id||""}};else if(u(t))e={asset:{_ref:l(t.asset.url)}};else{if("object"!=typeof t.asset)return null;e=t}var r=t;return r.crop&&(e.crop=r.crop),r.hotspot&&(e.hotspot=r.hotspot),h(e)}function f(t){return/^https?:\/\//.test(""+t)}function l(t){return("image-"+t.split("/").slice(-1)[0]).replace(/\.([a-z]+)$/,"-$1")}function h(e){if(e.crop&&e.hotspot)return e;var r=t({},e);return r.crop||(r.crop={left:0,top:0,bottom:0,right:0}),r.hotspot||(r.hotspot={x:.5,y:.5,height:1,width:1}),r}var p=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"]];function d(e){var r=t({},e||{}),n=r.source;delete r.source;var o=c(n);if(!o)return null;var s=i(o.asset._ref||o.asset._id||""),a=Math.round(o.crop.left*s.width),u=Math.round(o.crop.top*s.height),f={left:a,top:u,width:Math.round(s.width-o.crop.right*s.width-a),height:Math.round(s.height-o.crop.bottom*s.height-u)},l=o.hotspot.height*s.height/2,h=o.hotspot.width*s.width/2,p=o.hotspot.x*s.width,d=o.hotspot.y*s.height,v={left:p-h,top:d-l,right:p+h,bottom:d+l};return r.rect||r.focalPoint||r.ignoreImageParams||r.crop||(r=t(t({},r),b({crop:f,hotspot:v},r))),y(t(t({},r),{},{asset:s}))}function y(t){var e=t.baseUrl||"https://cdn.sanity.io",r=t.asset.id+"-"+t.asset.width+"x"+t.asset.height+"."+t.asset.format,n=e+"/images/"+t.projectId+"/"+t.dataset+"/"+r,o=[];if(t.rect){var i=t.rect,s=i.left,a=i.top,u=i.width,c=i.height;(0!==s||0!==a||c!==t.asset.height||u!==t.asset.width)&&o.push("rect="+s+","+a+","+u+","+c)}t.bg&&o.push("bg="+t.bg),t.focalPoint&&(o.push("fp-x="+t.focalPoint.x),o.push("fp-y="+t.focalPoint.y));var f=[t.flipHorizontal&&"h",t.flipVertical&&"v"].filter(Boolean).join("");return f&&o.push("flip="+f),p.forEach((function(e){var r=e[0],n=e[1];void 0!==t[r]?o.push(n+"="+encodeURIComponent(t[r])):void 0!==t[n]&&o.push(n+"="+encodeURIComponent(t[n]))})),0===o.length?n:n+"?"+o.join("&")}function b(t,e){var r,n=e.width,o=e.height;if(!n||!o)return{width:n,height:o,rect:t.crop};var i=t.crop,s=t.hotspot,a=n/o;if(i.width/i.height>a){var u=i.height,c=u*a,f=i.top,l=(s.right-s.left)/2+s.left-c/2;l<i.left?l=i.left:l+c>i.left+i.width&&(l=i.left+i.width-c),r={left:Math.round(l),top:Math.round(f),width:Math.round(c),height:Math.round(u)}}else{var h=i.width,p=h/a,d=i.left,y=(s.bottom-s.top)/2+s.top-p/2;y<i.top?y=i.top:y+p>i.top+i.height&&(y=i.top+i.height-p),r={left:Math.max(0,Math.floor(d)),top:Math.max(0,Math.floor(y)),width:Math.round(h),height:Math.round(p)}}return{width:n,height:o,rect:r}}var v=["clip","crop","fill","fillmax","max","scale","min"],g=["top","bottom","left","right","center","focalpoint","entropy"],m=["format"];function w(t){return!!t&&"object"==typeof t.clientConfig}function _(t){for(var e,r=n(p);!(e=r()).done;){var o=e.value,i=o[0],s=o[1];if(t===i||t===s)return i}return t}function O(t){var e=t;if(w(e)){var r=e.clientConfig,n=r.apiHost,o=r.projectId,i=r.dataset;return new E(null,{baseUrl:(n||"https://api.sanity.io").replace(/^https:\/\/api\./,"https://cdn."),projectId:o,dataset:i})}return new E(null,t)}var E=function(){function e(e,r){this.options=t(e?t({},e.options||{}):{},r||{})}var r=e.prototype;return r.withOptions=function(r){var n=r.baseUrl||this.options.baseUrl,o={baseUrl:n};for(var i in r)r.hasOwnProperty(i)&&(o[_(i)]=r[i]);return new e(this,t({baseUrl:n},o))},r.image=function(t){return this.withOptions({source:t})},r.dataset=function(t){return this.withOptions({dataset:t})},r.projectId=function(t){return this.withOptions({projectId:t})},r.bg=function(t){return this.withOptions({bg:t})},r.dpr=function(t){return this.withOptions({dpr:t})},r.width=function(t){return this.withOptions({width:t})},r.height=function(t){return this.withOptions({height:t})},r.focalPoint=function(t,e){return this.withOptions({focalPoint:{x:t,y:e}})},r.maxWidth=function(t){return this.withOptions({maxWidth:t})},r.minWidth=function(t){return this.withOptions({minWidth:t})},r.maxHeight=function(t){return this.withOptions({maxHeight:t})},r.minHeight=function(t){return this.withOptions({minHeight:t})},r.size=function(t,e){return this.withOptions({width:t,height:e})},r.blur=function(t){return this.withOptions({blur:t})},r.sharpen=function(t){return this.withOptions({sharpen:t})},r.rect=function(t,e,r,n){return this.withOptions({rect:{left:t,top:e,width:r,height:n}})},r.format=function(t){return this.withOptions({format:t})},r.invert=function(t){return this.withOptions({invert:t})},r.orientation=function(t){return this.withOptions({orientation:t})},r.quality=function(t){return this.withOptions({quality:t})},r.forceDownload=function(t){return this.withOptions({download:t})},r.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},r.flipVertical=function(){return this.withOptions({flipVertical:!0})},r.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},r.fit=function(t){if(-1===v.indexOf(t))throw new Error('Invalid fit mode "'+t+'"');return this.withOptions({fit:t})},r.crop=function(t){if(-1===g.indexOf(t))throw new Error('Invalid crop mode "'+t+'"');return this.withOptions({crop:t})},r.saturation=function(t){return this.withOptions({saturation:t})},r.auto=function(t){if(-1===m.indexOf(t))throw new Error('Invalid auto mode "'+t+'"');return this.withOptions({auto:t})},r.pad=function(t){return this.withOptions({pad:t})},r.url=function(){return d(this.options)},r.toString=function(){return this.url()},e}();return O}();export{e as A,F as B,ot as C,f as D,t as E,a as F,c as G,ji as H,j as I,p as J,Oi as K,rt as S,m as a,g as b,w as c,h as d,d as e,l as f,_ as g,E as h,et as i,Y as j,b as k,v as l,K as m,O as n,Z as o,G as p,J as q,W as r,s,y as t,X as u,V as v,Q as w,A as x,I as y,T as z};
